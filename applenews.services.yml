services:
  plugin.manager.applenews_component_type:
    class: Drupal\applenews\Plugin\ApplenewsComponentTypeManager
    parent: default_plugin_manager

  serializer.applenews.content_entity:
    class: Drupal\applenews\Normalizer\ApplenewsContentEntityNormalizer
    arguments: ['@entity_type.manager']
    tags:
      - { name: normalizer, priority: 10 }

  serializer.applenews.text.component:
    class: Drupal\applenews\Normalizer\ApplenewsTextComponentNormalizer
    arguments: ['@plugin.manager.applenews_component_type']
    tags:
      - { name: normalizer, priority: 10 }

  serializer.applenews.image.component:
    class: Drupal\applenews\Normalizer\ApplenewsImageComponentNormalizer
    arguments: ['@plugin.manager.applenews_component_type']
    tags:
      - { name: normalizer, priority: 10 }

  serializer.applenews.field:
    class: Drupal\applenews\Normalizer\ApplenewsFieldNormalizer
    tags:
      - { name: normalizer, priority: 10 }

  serializer.applenews.field_item:
    class: Drupal\applenews\Normalizer\ApplenewsFieldItemNormalizer
    tags:
      - { name: normalizer, priority: 10 }

  applenews.template_selection:
    class: Drupal\applenews\ApplenewsTemplateSelection
    arguments: ['@entity_type.manager']
